{% extends 'base/base.html' %}
{% load widget_tweaks %}
{% load static %}



{% block detail %}
<div class="container">
    <div class="row">
        <div class="col-md-6">
            <h1>시나리오 디테일</h1>
            <div>
                <a href="{% url 'project_list' %}">리스트로 이동</a>
            </div>
            <div>
                <ul>
                    <li>{{ data.title }}</li>
                    <li>{{ data.desc }}</li>
                    <li>{{ data.pk }}</li>
                </ul>
            </div>
        </div>
        <div class="col-md-6"  >
            <div id="listWithHandle" class="list-group">
                {% for li in list %}
                    <div class="list-group-item glyphicon glyphicon-move">
                        <div>
                            <span class="" aria-hidden="true"></span>
{#                            <span class="badge">14</span>#}
                            {{ li.title }}
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div>
                <form method="POST" name="block" enctype="multipart/form-data">{% csrf_token %}
                    {% if position == "comment" %}
                        <div>{{ form.status }}</div>
                    {% else %}
                        <div>{{ form.title }}</div>
                    {% endif %}

                    <div>{{ form.desc|safe }}</div>
                    <div>{{ form.image_1|attr:"onchange:setThumbnail(event)" | add_class:"attached" }}</div>
                    <div>{{ form.image_2|attr:"onchange:setThumbnail(event)" | add_class:"attached" }}</div>
                    <div>{{ form.image_3|attr:"onchange:setThumbnail(event)" | add_class:"attached" }}</div>
                    <div>{{ form.image_4|attr:"onchange:setThumbnail(event)" | add_class:"attached" }}</div>
                    <div>{{ form.image_5|attr:"onchange:setThumbnail(event)" | add_class:"attached" }}</div>
                    <div id="image_container"></div>
                    <div>
                        <input type="submit" value="제출하기">
                    </div>

                </form>
            </div>

        </div>

    </div>
</div>

===================
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"/>


  <!-- Latest Sortable -->
  <script src="https://raw.githack.com/SortableJS/Sortable/master/Sortable.js"></script>



    <script>


    // List with handle
        Sortable.create(listWithHandle, {
            handle: '.glyphicon-move',
            animation: 150,
            store: {
                /**
                 * Get the order of elements. Called once during initialization.
                 * @param   {Sortable}  sortable
                 * @returns {Array}
                 */
                get: function (sortable) {
                    var order = sessionStorage.getItem(order,sortable.options.group.name);
                    return order ? order.split('|') : [];

                },

                /**
                 * Save the order of elements. Called onEnd (when the item is dropped).
                 * @param {Sortable}  sortable
                 */
                set: function (sortable) {
                    var order = sortable.toArray();
                    sessionStorage.setItem(sortable.options.group.name, order.join('|'));
                }
            }
        });


    </script>
{% endblock %}

{% block list %}



{% endblock %}

{% block input %}


{% endblock %}

{% block script %}


{% endblock %}

